{"ast":null,"code":"var _jsxFileName = \"/home/user/proshop_mern/frontend/src/screens/UserListScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Table, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listUsers, deleteUser } from '../actions/userActions';\nconst UserListScreen = _ref => {\n  _s();\n  let {\n    history\n  } = _ref;\n  const dispatch = useDispatch();\n  const userList = useSelector(state => state.userList);\n  const {\n    loading,\n    error,\n    users\n  } = userList;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const userDelete = useSelector(state => state.userDelete);\n  const {\n    success: successDelete\n  } = userDelete;\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listUsers());\n    } else {\n      history.push('/login');\n    }\n  }, [dispatch, history, successDelete, userInfo]);\n  const deleteHandler = id => {\n    if (window.confirm('Are you sure')) {\n      dispatch(deleteUser(id));\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"Users\"), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }) : error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, error) : /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    responsive: true,\n    className: \"table-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, \"NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, \"EMAIL\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \"ADMIN\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, users.map(user => /*#__PURE__*/React.createElement(\"tr\", {\n    key: user._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, user._id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: `mailto:${user.email}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }, user.email)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, user.isAdmin ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-check\",\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LinkContainer, {\n    to: `/admin/user/${user._id}/edit`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    className: \"btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"danger\",\n    className: \"btn-sm\",\n    onClick: () => deleteHandler(user._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }))))))));\n};\n_s(UserListScreen, \"YNOO+Hw1dkxHS+3f09oLaAPEAGA=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = UserListScreen;\nexport default UserListScreen;\nvar _c;\n$RefreshReg$(_c, \"UserListScreen\");","map":{"version":3,"names":["React","useEffect","LinkContainer","Table","Button","useDispatch","useSelector","Message","Loader","listUsers","deleteUser","UserListScreen","history","dispatch","userList","state","loading","error","users","userLogin","userInfo","userDelete","success","successDelete","isAdmin","push","deleteHandler","id","window","confirm","map","user","_id","name","email","color"],"sources":["/home/user/proshop_mern/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Table, Button } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport { listUsers, deleteUser } from '../actions/userActions'\n\nconst UserListScreen = ({ history }) => {\n  const dispatch = useDispatch()\n\n  const userList = useSelector((state) => state.userList)\n  const { loading, error, users } = userList\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n  const userDelete = useSelector((state) => state.userDelete)\n  const { success: successDelete } = userDelete\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listUsers())\n    } else {\n      history.push('/login')\n    }\n  }, [dispatch, history, successDelete, userInfo])\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Are you sure')) {\n      dispatch(deleteUser(id))\n    }\n  }\n\n  return (\n    <>\n      <h1>Users</h1>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error}</Message>\n      ) : (\n        <Table striped bordered hover responsive className='table-sm'>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>EMAIL</th>\n              <th>ADMIN</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user) => (\n              <tr key={user._id}>\n                <td>{user._id}</td>\n                <td>{user.name}</td>\n                <td>\n                  <a href={`mailto:${user.email}`}>{user.email}</a>\n                </td>\n                <td>\n                  {user.isAdmin ? (\n                    <i className='fas fa-check' style={{ color: 'green' }}></i>\n                  ) : (\n                    <i className='fas fa-times' style={{ color: 'red' }}></i>\n                  )}\n                </td>\n                <td>\n                  <LinkContainer to={`/admin/user/${user._id}/edit`}>\n                    <Button variant='light' className='btn-sm'>\n                      <i className='fas fa-edit'></i>\n                    </Button>\n                  </LinkContainer>\n                  <Button\n                    variant='danger'\n                    className='btn-sm'\n                    onClick={() => deleteHandler(user._id)}\n                  >\n                    <i className='fas fa-trash'></i>\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </>\n  )\n}\n\nexport default UserListScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}